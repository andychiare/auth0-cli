<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Example</title>
</head>
<body>
<h1>WebSocket Example</h1>
<div id="messages"></div>
<form>
    <input type="text" id="messageInput" />
    <button type="submit">Save</button>
</form>
<script>
    const messagesDiv = document.getElementById("messages");
    const messageInput = document.getElementById("messageInput");

    const ws = new WebSocket("ws://localhost:8000");

    ws.onopen = () => {
        console.log("WebSocket connected");
    };

    ws.onmessage = (event) => {
        const message = JSON.parse(event.data);
        messagesDiv.innerHTML += "<p>" + message.text + "</p>";
    };

    document.querySelector("form").addEventListener("submit", (event) => {
        event.preventDefault();
        const message = {
            templates: {
                body: "\u003c!DOCTYPE html\u003e\u003chtml\u003e\u003chead\u003e{%- auth0:head -%}\u003c/head\u003e\u003cbody\u003e{%- auth0:widget -%}\u003c/body\u003e\u003c/html\u003e"
            },
            themes: {
                "borders": {
                    "button_border_radius": 3,
                    "button_border_weight": 1,
                    "buttons_style": "rounded",
                    "input_border_radius": 3,
                    "input_border_weight": 1,
                    "inputs_style": "rounded",
                    "show_widget_shadow": true,
                    "widget_border_weight": 0,
                    "widget_corner_radius": 5
                },
                "colors": {
                    "base_focus_color": "#635dff",
                    "base_hover_color": "#000000",
                    "body_text": "#1e212a",
                    "error": "#d03c38",
                    "header": "#1e212a",
                    "icons": "#65676e",
                    "input_background": "#ffffff",
                    "input_border": "#c9cace",
                    "input_filled_text": "#000000",
                    "input_labels_placeholders": "#65676e",
                    "links_focused_components": "#635dff",
                    "primary_button": "#635dff",
                    "primary_button_label": "#ffffff",
                    "secondary_button_border": "#c9cace",
                    "secondary_button_label": "#1e212a",
                    "success": "#13a688",
                    "widget_background": "#ffffff",
                    "widget_border": "#c9cace"
                },
                "fonts": {
                    "body_text": {
                        "bold": false,
                        "size": 87.5
                    },
                    "buttons_text": {
                        "bold": false,
                        "size": 100
                    },
                    "font_url": "",
                    "input_labels": {
                        "bold": false,
                        "size": 100
                    },
                    "links": {
                        "bold": true,
                        "size": 87.5
                    },
                    "links_style": "normal",
                    "reference_text_size": 16,
                    "subtitle": {
                        "bold": false,
                        "size": 87.5
                    },
                    "title": {
                        "bold": false,
                        "size": 150
                    }
                },
                "page_background": {
                    "background_color": "#000000",
                    "background_image_url": "",
                    "page_layout": "center"
                },
                "widget": {
                    "header_text_alignment": "center",
                    "logo_height": 52,
                    "logo_position": "center",
                    "logo_url": "",
                    "social_buttons_layout": "bottom"
                },
                "themeId": "fxmAUvKuVANjZlMYcRf2464QTgE55fLl"
            }
        };
        ws.send(JSON.stringify(message));
        messageInput.value = "";
    });
</script>
</body>
</html>
